{% extends 'base.html' %}

{% block head %}

<title>Completed Assessments</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style/assessmentStatsStyle.css') }}">

{% endblock %}

{% block body %}

<!--Section for the tables with assessment information-->
<div class="content-tables">
  <table class="completed-assessments-table">
    <thead>
      <tr>
        <th scope="col">Student Number</th>
        <th scope="col">Completed Assessment(s)</th>
        <th scope="col">Date Completed</th>
        <th scope="col">Mark</th>
        <th scope="col">Attempt Number</th>
        <th scope="col">Action</th>
      </tr>
    </thead>

    <tbody>

      {% for r in result_ids %}
      <tr>
        <td>{{ current_user.id }}</td> <!-- Student Number -->
        <td>{{ assess_details[r.assessment_id].assessment_name }}</td> <!-- Completed Assessment(s) -->
        <td>{{ r.date_completed }}</td> <!-- Date Completed -->
        <td>{{ r.grade }}</td> <!-- Mark -->
        <td>{{ r.attempt_number }}</td> <!-- Attempt Number -->
        <td><a href="{{ url_for('assessment_statistics', assess_id=r.assessment_id, id_assessment=r.id)}}">View</a>
        </td>
        <!-- Action -->
      </tr>
      {% endfor %}

    </tbody>

    <tfoot>
      <tr>
        <td colspan="4">Have an issue with your marks? <a href="">Report here</a></td>
        <!--Add link to Report Issue page-->
      </tr>
    </tfoot>

  </table>
</div>

{% endblock %}